/**
  ******************************************************************************
  * @file    main.c
  * @author  Auto-generated by STM32CubeIDE
  * @version V1.0
  * @brief   Default main function.
  ******************************************************************************
*/



#include <stdio.h>
#include "uart_driver.h"
#include "ringbuffer.h"

#define F_CPU 16000000UL

// main
int main(void){
	while(1 != 0) {
 	init_usart2(19200,F_CPU);
	//printf("Hello World!!\n");

	//enable interrupt
	uint32_t *nvic = (uint32_t) (NVIC_BASE + NVIC_ISER1);
	*nvic |= (1 << 6);

	//uint32_t *txe_int = (uint32_t)(USART2_BASEA + USART_CR1A);
	//*txe_int |= (USART_CR1_TXEIEA);

	char user_input[50];
	fgets(user_input, sizeof(user_input), stdin);
	//printf("%s", );
	// never return
	}
	//for(;;){}

	return 0;
}

